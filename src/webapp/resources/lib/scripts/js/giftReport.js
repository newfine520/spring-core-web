!function(t){function e(e){for(var r,i,l=e[0],s=e[1],c=e[2],m=0,d=[];m<l.length;m++)i=l[m],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&d.push(o[i][0]),o[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);for(u&&u(e);d.length;)d.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],r=!0,l=1;l<a.length;l++){var s=a[l];0!==o[s]&&(r=!1)}r&&(n.splice(e--,1),t=i(i.s=a[0]))}return t}var r={},o={4:0},n=[];function i(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=r,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(a,r,function(e){return t[e]}.bind(null,r));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=s;n.push([69,1,0]),a()}({1:function(t,e,a){"use strict";a.d(e,"d",(function(){return o})),a.d(e,"a",(function(){return n})),a.d(e,"c",(function(){return i})),a.d(e,"g",(function(){return l})),a.d(e,"i",(function(){return s})),a.d(e,"e",(function(){return c})),a.d(e,"h",(function(){return u})),a.d(e,"f",(function(){return m})),a.d(e,"b",(function(){return d}));var r=a(0),o=function(t){return r.a.request({url:"Activity/GetActivityList",method:"get",params:t})},n=function(t){return r.a.request({url:"Activity/AddActivity",method:"post",data:t})},i=function(t){return r.a.request({url:"Activity/GetActivityDetail",method:"get",params:t})},l=function(t){return r.a.request({url:"Activity/UpdateActivity",method:"post",data:t})},s=function(t){return r.a.request({url:"Activity/ImportStoreGoodsGift",method:"post",data:t})},c=function(){return r.a.request({url:"Activity/GetQuestionList",method:"get"})},u=function(t){return r.a.request({url:"Activity/UpdateActivityQuestionnaire",method:"post",data:t})},m=function(t){return r.a.request({url:"Activity/GetStoreGoodsList",method:"get",params:t})},d=function(t){return r.a.request({url:"Activity/ExportStoreGoodsGift",method:"post",data:t})}},12:function(t,e,a){var r=a(66);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,a(7).default)("0b29db34",r,!1,{})},13:function(t,e,a){var r=a(68);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,a(7).default)("34dc5800",r,!1,{})},5:function(t,e,a){"use strict";a.d(e,"a",(function(){return o})),a.d(e,"c",(function(){return n})),a.d(e,"b",(function(){return i}));var r=a(0),o=function(){return r.a.request({url:"Common/GetPosArea",method:"get"})},n=function(t){return r.a.request({url:"Common/QueryPosSubArea",method:"post",data:t})},i=function(t){return r.a.request({url:"Common/QueryPosProvinceCity",method:"post",data:t})}},65:function(t,e,a){"use strict";var r=a(12);a.n(r).a},66:function(t,e,a){(e=a(6)(!1)).push([t.i,"[data-v-7353a856] .el-form-item__content{width:190px}",""]),t.exports=e},67:function(t,e,a){"use strict";var r=a(13);a.n(r).a},68:function(t,e,a){(e=a(6)(!1)).push([t.i,".giftReport[data-v-b6f4ebc4]{background:#fff;padding-top:30px}.main[data-v-b6f4ebc4]{width:100%;margin-top:30px;padding-top:30px;border-top:1px solid #e7eaec}.main>.table[data-v-b6f4ebc4]{margin-top:30px}",""]),t.exports=e},69:function(t,e,a){"use strict";a.r(e);var r=a(8),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"giftReport"},[a("el-row",{staticStyle:{padding:"0 20px"}},[a("div",{staticClass:"searchForm"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.searchForm}},[a("el-form-item",{attrs:{label:"活动编号"}},[a("el-input",{attrs:{placeholder:"活动编号"},model:{value:t.searchForm.ActivityNo,callback:function(e){t.$set(t.searchForm,"ActivityNo",e)},expression:"searchForm.ActivityNo"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"活动名称"}},[a("el-input",{attrs:{placeholder:"活动名称"},model:{value:t.searchForm.ActivityName,callback:function(e){t.$set(t.searchForm,"ActivityName",e)},expression:"searchForm.ActivityName"}})],1)],1),t._v(" "),a("el-row",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.onSearch}},[t._v("搜索")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.onReset}},[t._v("重置")])],1)],1)]),t._v(" "),a("el-row",{staticClass:"main",staticStyle:{padding:"0 20px"}},[a("div",{staticClass:"table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,border:!0}},[a("el-table-column",{attrs:{prop:"ActivityNo",label:"活动编号","min-width":"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ActivityName",label:"活动名称","min-width":"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"StartTime",label:"活动开始时间","min-width":"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t._f("formTime")(e.row.StartTime)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"EndTime",label:"活动结束时间","min-width":"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t._f("formTime")(e.row.EndTime)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"CreateTime",label:"创建时间","min-width":"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t._f("formTime")(e.row.CreateTime)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"CreatorName",label:"创建人","min-width":"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"操作","min-width":"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:12}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return t.handleColumnClick(e.$index,e.row)}}},[t._v("赠品报表明细")])],1)],1)]}}])})],1),t._v(" "),a("el-row",[a("el-col",{staticStyle:{"margin-top":"30px",display:"flex","align-items":"center","justify-content":"flex-end"}},[t.show?a("el-pagination",{attrs:{background:"","current-page":t.searchForm.PageNumber,"page-size":t.searchForm.PageSize,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}):t._e()],1)],1)],1)]),t._v(" "),a("el-dialog",{attrs:{visible:t.centerDialogVisible,width:"30%",fullscreen:!0,center:""},on:{"update:visible":function(e){t.centerDialogVisible=e}}},[a("VisibleForm",{attrs:{id:t.id}}),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.centerDialogVisible=!1}}},[t._v("返 回")])],1)],1)],1)};o._withStripped=!0;var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"editForm"},[a("el-card",[a("span",[t._v("赠品报表明细")]),t._v(" "),a("el-form",{staticClass:"demo-form-inline",staticStyle:{"margin-top":"30px"},attrs:{inline:!0,"label-position":"right","label-width":"80px",model:t.searchForm}},[a("el-form-item",{attrs:{label:"大区"}},[a("el-select",{attrs:{clearable:"",filterable:"","collapse-tags":"",placeholder:"请选择大区"},on:{change:t.AreaNameChange},model:{value:t.searchForm.AreaName,callback:function(e){t.$set(t.searchForm,"AreaName",e)},expression:"searchForm.AreaName"}},t._l(t.AreaSelect,(function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.value}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"省份"}},[a("el-select",{attrs:{clearable:"",filterable:"","collapse-tags":"",placeholder:"请选择省份"},model:{value:t.searchForm.Province,callback:function(e){t.$set(t.searchForm,"Province",e)},expression:"searchForm.Province"}},t._l(t.ProvinceSelect,(function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.value}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"城市"}},[a("el-select",{attrs:{clearable:"",filterable:"","collapse-tags":"",placeholder:"请选择城市"},model:{value:t.searchForm.City,callback:function(e){t.$set(t.searchForm,"City",e)},expression:"searchForm.City"}},t._l(t.CitySelect,(function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.value}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"渠道"}},[a("el-input",{attrs:{placeholder:"渠道"},model:{value:t.searchForm.Channel,callback:function(e){t.$set(t.searchForm,"Channel",e)},expression:"searchForm.Channel"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"系统"}},[a("el-input",{attrs:{placeholder:"系统"},model:{value:t.searchForm.System,callback:function(e){t.$set(t.searchForm,"System",e)},expression:"searchForm.System"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"门店名称"}},[a("el-input",{attrs:{placeholder:"门店名称"},model:{value:t.searchForm.StoreName,callback:function(e){t.$set(t.searchForm,"StoreName",e)},expression:"searchForm.StoreName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"门店编号"}},[a("el-input",{attrs:{placeholder:"门店编号"},model:{value:t.searchForm.StoreNo,callback:function(e){t.$set(t.searchForm,"StoreNo",e)},expression:"searchForm.StoreNo"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"提报时间"}},[a("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:t.handleTimeClear},model:{value:t.timeData,callback:function(e){t.timeData=e},expression:"timeData"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-left":"30px"}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.onSearch}},[t._v("搜索")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.onReset}},[t._v("重置")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small",loading:t.downloadLoading},on:{click:t.download}},[t._v("下载")])],1),t._v(" "),a("div",{staticClass:"table",staticStyle:{"margin-top":"30px"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,border:!0}},[a("el-table-column",{attrs:{prop:"AreaName",label:"大区","min-width":"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Province",label:"省份","min-width":"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"City",label:"城市","min-width":"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Channel",label:"渠道","min-width":"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"System1",label:"系统","min-width":"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"StoreNo",label:"门店编码","min-width":"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"StoreName",label:"门店名称","min-width":"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Creator",label:"提报人","min-width":"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"BDASName",label:"DBAS姓名","min-width":"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"brandname",label:"销售品品牌","min-width":"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"categoryname",label:"销售品品类","min-width":"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Productcode",label:"销售品条码","min-width":"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Productname1",label:"销售品名称","min-width":"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Productbarcode1",label:"销售品SKU编码","min-width":"140"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Productname2",label:"赠品名称","min-width":"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Productbarcode2",label:"赠品SKU编码","min-width":"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Count",label:"数量","min-width":"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"last_update_time",label:"提报时间","min-width":"120"}})],1),t._v(" "),a("el-row",[a("el-col",{staticStyle:{"margin-top":"30px",display:"flex","align-items":"center","justify-content":"flex-end"}},[t.show?a("el-pagination",{attrs:{"current-page":t.searchForm.PageNumber,"page-size":t.searchForm.PageSize,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next",background:"",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}):t._e()],1)],1)],1)],1)],1)};n._withStripped=!0;var i=a(0),l=(a(9),a(5)),s={props:{id:{type:Number||String,default:0}},data:function(){return{searchForm:{ActivityId:this.id,StoreNo:"",StoreName:"",AreaName:"",Province:"",City:"",System:"",Channel:"",ReportingTime:"",pageSize:10,PageNumber:1,IsPage:!0,ReportingStartTime:"",ReportingEndTime:""},loading:!1,downloadLoading:!1,tableData:[],total:0,timeData:[],AreaSelect:[],ProvinceSelect:[],CitySelect:[],show:!0}},watch:{id:function(t){this.resetForm(),this.searchForm.ActivityId=t,this.onSearch()}},methods:{onSearch:function(){var t,e=this;this.loading=!0,(t=this.searchForm,i.a.request({url:"StoreGift/QueryGiftReport",method:"post",data:t})).then((function(t){t.data.rows?(e.tableData=JSON.parse(t.data.rows),e.total=t.data.total):e.$tool(t.data.Msg),e.loading=!1})).catch((function(t){e.loading=!1}))},resetForm:function(){this.searchForm={ActivityId:this.id,StoreNo:"",StoreName:"",AreaName:"",Province:"",City:"",System:"",Channel:"",ReportingTime:"",pageSize:10,PageNumber:1,IsPage:!0,ReportingStartTime:"",ReportingEndTime:""},this.timeData=[],this.tableData=[]},onReset:function(){var t=this;this.resetForm(),this.show=!1,this.$nextTick((function(){t.show=!0})),this.onSearch()},handleSizeChange:function(t){this.searchForm.pageSize=t,this.onSearch()},handleCurrentChange:function(t){this.searchForm.PageNumber=t,this.onSearch()},handleTimeClear:function(t){null!==t?(this.searchForm.ReportingStartTime=t[0],this.searchForm.ReportingEndTime=t[1]):(this.searchForm.ReportingStartTime="",this.searchForm.ReportingEndTime="")},download:function(){var t=this;this.downloadLoading=!0;var e=this.searchForm;delete e.pageSize,delete e.PageNumber,function(t){return i.a.request({url:"StoreGift/ExportGiftDetailReport",method:"post",data:t})}(e).then((function(e){200===e.status&&e.data.IsSuccess&&(window.location.href="/File/DownFile?filePath="+e.data.Data+"&fileName=赠品明细报表"),t.downloadLoading=!1})).catch((function(e){t.downloadLoading=!1}))},AreaNameChange:function(){var t=this;this.searchForm.Province=[],Object(l.c)({AreaId:this.searchForm.AreaName}).then((function(e){e.data.IsSuccess&&(t.ProvinceSelect=e.data.Data)}))}},created:function(){var t=this;this.onSearch(),Object(l.a)().then((function(e){e.data.IsSuccess&&(t.AreaSelect=e.data.Data)})),Object(l.b)().then((function(e){e.data.rows&&(t.CitySelect=e.data.rows)}))},mounted:function(){}},c=(a(65),a(4)),u=Object(c.a)(s,n,[],!1,null,"7353a856",null);u.options.__file="src/views/giftReport/ReportDetial.vue";var m=u.exports,d=a(1),p={components:{VisibleForm:m},data:function(){return{centerDialogVisible:!1,searchForm:{ActivityNo:"",ActivityName:"",PageNumber:1,pageSize:10},loading:!1,tableData:[],total:0,id:0,show:!0}},filters:{formTime:function(t){if(!t)return"";var e=new Date(t),a=""+(e.getMonth()+1),r=""+e.getDate(),o=e.getFullYear();return a.length<2&&(a="0"+a),r.length<2&&(r="0"+r),[o,a,r].join("-")}},methods:{handleColumnClick:function(t,e){this.centerDialogVisible=!0,this.id=e.Id},onSearch:function(){var t=this;this.loading=!0,Object(d.d)(this.searchForm).then((function(e){e.data.rows?(t.tableData=e.data.rows,t.total=e.data.total):t.$tool(e.data.Msg),t.loading=!1})).catch((function(e){t.loading=!1}))},onReset:function(){var t=this;this.searchForm={ActivityNo:"",ActivityName:"",PageNumber:1,pageSize:10},this.show=!1,this.$nextTick((function(){t.show=!0})),this.tableData=[],this.onSearch()},handleSizeChange:function(t){this.searchForm.pageSize=t,this.onSearch()},handleCurrentChange:function(t){this.searchForm.PageNumber=t,this.onSearch()}},created:function(){this.onSearch()},mounted:function(){}},h=(a(67),Object(c.a)(p,o,[],!1,null,"b6f4ebc4",null));h.options.__file="src/views/giftReport.vue";var f=h.exports;new r.a({el:"#app",render:function(t){return t(f)}})},9:function(t,e,a){"use strict";a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var r=a(0),o=function(t){return r.a.request({url:"/GiftDelivery/QueryGiftDeliveryList",method:"post",data:t})},n=function(t){return r.a.request({url:"/GiftDelivery/ImportGiftDelivery",method:"post",data:t})},i=function(t){return r.a.request({url:"/GiftDelivery/ExportGiftDelivery",method:"post",data:t})}}});